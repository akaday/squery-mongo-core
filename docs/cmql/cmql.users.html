<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>cmql.users documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Cmql</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cmql</span></div></div></li><li class="depth-2 branch"><a href="cmql.administration.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>administration</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></div></li><li class="depth-3"><a href="cmql.common.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>convert</span></div></div></li><li class="depth-3 branch"><a href="cmql.convert.commands.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></a></li><li class="depth-3 branch"><a href="cmql.convert.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3 branch"><a href="cmql.convert.js-functions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>js-functions</span></div></a></li><li class="depth-3 branch"><a href="cmql.convert.operators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>operators</span></div></a></li><li class="depth-3"><a href="cmql.convert.stages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stages</span></div></a></li><li class="depth-2 branch"><a href="cmql.diagnostic.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>diagnostic</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>operators</span></div></div></li><li class="depth-3 branch"><a href="cmql.operators.operators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>operators</span></div></a></li><li class="depth-3 branch"><a href="cmql.operators.options.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>options</span></div></a></li><li class="depth-3"><a href="cmql.operators.stages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stages</span></div></a></li><li class="depth-2 branch"><a href="cmql.read-write.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>read-write</span></div></a></li><li class="depth-2 branch"><a href="cmql.roles.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>roles</span></div></a></li><li class="depth-2 current"><a href="cmql.users.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>users</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="cmql.users.html#var-create-update-user"><div class="inner"><span>create-update-user</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-create-user"><div class="inner"><span>create-user</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-create-user-def"><div class="inner"><span>create-user-def</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-drop-all-users-from-database"><div class="inner"><span>drop-all-users-from-database</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-drop-user"><div class="inner"><span>drop-user</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-grant-roles"><div class="inner"><span>grant-roles</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-revoke-roles"><div class="inner"><span>revoke-roles</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-update-user"><div class="inner"><span>update-user</span></div></a></li><li class="depth-1"><a href="cmql.users.html#var-users-info"><div class="inner"><span>users-info</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">cmql.users</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-create-update-user"><h3>create-update-user</h3><div class="usage"><code>(create-update-user db-name command-map update? args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-create-user"><h3>create-user</h3><div class="usage"><code>(create-user db-name command-map &amp; args)</code></div><div class="doc"><pre class="plaintext">Requires = createUser action  Built in role 'userAdmin' can do those actions
            setAuthenticationRestriction action if add those also
UserName is on the command-map,and :pwd for password</pre></div></div><div class="public anchor" id="var-create-user-def"><h3>create-user-def</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-drop-all-users-from-database"><h3>drop-all-users-from-database</h3><div class="usage"><code>(drop-all-users-from-database db-name &amp; args)</code></div><div class="doc"><pre class="plaintext">Removes all users from the argument db(users that belong to the database)
Requires = dropUser action</pre></div></div><div class="public anchor" id="var-drop-user"><h3>drop-user</h3><div class="usage"><code>(drop-user db-name username &amp; args)</code></div><div class="doc"><pre class="plaintext">Removes a user from the db(only if user belong to the database)
Requires = dropUser action</pre></div></div><div class="public anchor" id="var-grant-roles"><h3>grant-roles</h3><div class="usage"><code>(grant-roles db-name username roles &amp; args)</code></div><div class="doc"><pre class="plaintext">Roles= [{ :role 'rolename', :db 'databasename' } 'role' ... ]
if not :db ,the db is the one that the command runned from
Requires = grantRole action</pre></div></div><div class="public anchor" id="var-revoke-roles"><h3>revoke-roles</h3><div class="usage"><code>(revoke-roles db-name username roles &amp; args)</code></div><div class="doc"><pre class="plaintext">Roles = [{ :role 'rolename', :db 'databasename' } 'rolename' ...]
if not :db ,the db is the one that the command runned from
The user that have this roles will lose them
Requires =  revokeRole action</pre></div></div><div class="public anchor" id="var-update-user"><h3>update-user</h3><div class="usage"><code>(update-user db-name command-map &amp; args)</code></div><div class="doc"><pre class="plaintext">Requires = revokeRole/grantRole/ action
            changeAnyPassword action if update on password(or changeOwnPassword if i update my own)
            changeAnyCustomData action if update custom data(or changeOwnCustomData)
            setAuthenticationRestriction action if change those also
A top level field that is present in the update command =&gt; completly replace the old one,
its like invoke first and grant after
For not fully replace use  grant/revoke commands
UserName is on the command-map,and :pwd for password</pre></div></div><div class="public anchor" id="var-users-info"><h3>users-info</h3><div class="usage"><code>(users-info db-name command-map &amp; args)</code></div><div class="doc"><pre class="plaintext">Command
 {
  usersInfo: &lt;see below&gt;
  showCredentials: &lt;Boolean&gt;
  showPrivileges: &lt;Boolean&gt;
  showAuthenticationRestrictions: &lt;Boolean&gt;
  filter: &lt;document&gt; (aggregation operators here only)
  }

usersInfo
  { usersInfo: 1 } =&gt; for all users in the db
  { forAllDBs: true } =&gt; for all users in all databases

  { usersInfo: username } =&gt; for specific user on db run the command
  { usersInfo: [username1 ....] } =&gt; for specific users

  { usersInfo: { user: &lt;name&gt;, db: &lt;db&gt; } }
    =&gt; specific user but from another db not the one runs the command
  { usersInfo: [{ user: &lt;name&gt;, db: &lt;db&gt; } ...] }
    =&gt; for specific users from those databases

Requires = viewUser action to see another users info
          (but each user is allowed to see their personal info)
</pre></div></div></div></body></html>